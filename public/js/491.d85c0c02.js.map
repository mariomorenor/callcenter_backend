{"version":3,"file":"js/491.d85c0c02.js","mappings":"kLAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,gBAAe,GAAMC,MAAM,CAACC,MAAOP,EAAIQ,UAAWC,SAAS,SAAUC,GAAMV,EAAIQ,UAAUE,CAAG,EAAEC,WAAW,eAAeT,EAAG,OAAO,CAACG,MAAM,CAAC,OAAS,MAAM,CAACH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,YAAY,CAACH,EAAG,UAAU,CAACI,MAAM,CAACC,MAAOP,EAAIY,KAAMH,SAAS,SAAUC,GAAMV,EAAIY,KAAKF,CAAG,EAAEC,WAAW,WAAW,GAAGT,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,eAAe,CAACH,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,WAAW,kBAAkB,IAAIQ,SAAS,CAAC,SAAW,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQhB,EAAIiB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAgB,KAAYnB,EAAIoB,OAAO,GAAGd,MAAM,CAACC,MAAOP,EAAIqB,SAAUZ,SAAS,SAAUC,GAAMV,EAAIqB,SAASX,CAAG,EAAEC,WAAW,eAAe,GAAGT,EAAG,WAAW,CAACG,MAAM,CAAC,SAAWL,EAAIsB,oBAAoB,MAAQ,iBAAiB,YAAY,cAAc,KAAO,cAAcC,GAAG,CAAC,MAAQ,SAAST,GAAQ,OAAOd,EAAIoB,OAAO,MAAM,IAAI,EAC78B,EACII,EAAkB,G,oBCmBtB,GACAC,KAAAA,YACAC,OACA,OACAd,KAAAA,GACAS,SAAAA,GACAb,WAAAA,EAEA,EACAmB,QAAAA,KACA,sBACAP,QACA,kBACA,yBACAQ,MAAAA,KAAAA,KACAP,SAAAA,KAAAA,WAEAQ,MAAAA,IACA,+BACAC,eAAAA,QAAAA,QAAAA,EAAAA,QAAAA,OACA,sBAAAL,KAAAA,QAAA,IACA,yBACA,oBAEA,GAEAM,SAAAA,CACAT,sBACA,qBAGA,iBAIA,ICxDqP,I,UCQjPU,GAAY,OACd,EACAjC,EACAyB,GACA,EACA,KACA,WACA,MAIF,EAAeQ,EAAiB,O,kLCjBhC,MAAMC,EAAU,EACdC,UAAU,oCACVnB,OAAO,UACPoB,WAAW,IACXC,WAAW,aACT,CAAC,KACHC,EAAAA,EAAAA,KAAW,CACTH,UACAnB,OACAoB,WACAC,YACA,EAGEE,EAAQ,EACZJ,UAAU,qBACVnB,OAAO,YACPoB,WAAW,IACXC,WAAW,aACT,CAAC,KACHC,EAAAA,EAAAA,KAAW,CACTH,UACAnB,OACAoB,WACAC,YACA,EAGEG,EAAe,EACnBL,UAAU,qCACVnB,OAAO,YACPoB,WAAW,IACXC,WAAW,YACXI,SAAQ,GACN,CAAC,KACHH,EAAAA,EAAAA,KAAW,CACTH,UACAnB,OACAoB,WACAC,WACAI,SACA,EAGEC,EAAgB,EACpBP,UAAU,iEACVnB,OAAO,YACPoB,WAAW,IACXC,WAAW,aACT,CAAC,KACHC,EAAAA,EAAAA,KAAW,CACTH,UACAnB,OACAoB,WACAC,YACA,C,uDCzDJ,MAAMM,EAAWC,EAAQ,MAEnBC,EAAwB,EAAEC,eAC9B,OAAQA,EAASC,QACf,KAAK,IACHJ,EAASK,WACT,MACF,KAAK,IACHL,EAASJ,MAAM,CAACJ,QAAQW,EAASnB,KAAKQ,UACtC,MACF,KAAK,IACHQ,EAASJ,MAAM,CAACJ,QAAQW,EAASnB,KAAKQ,UACtC,MACF,KAAK,IACHW,EAASnB,KAAKsB,SAASC,IACrBP,EAASH,aAAa,CAAEL,QAASe,EAAQf,SAAU,IAErD,MAAM,C","sources":["webpack://callcenter_frontend/./src/views/Login.vue","webpack://callcenter_frontend/src/views/Login.vue","webpack://callcenter_frontend/./src/views/Login.vue?7d1c","webpack://callcenter_frontend/./src/views/Login.vue?a6ee","webpack://callcenter_frontend/./src/common/Messages.js","webpack://callcenter_frontend/./src/common/tools.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login mt-5\"},[_c('b-loading',{attrs:{\"is-full-page\":true},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}}),_c('form',{attrs:{\"action\":\"#\"}},[_c('b-field',{attrs:{\"label\":\"Usuario\"}},[_c('b-input',{model:{value:(_vm.user),callback:function ($$v) {_vm.user=$$v},expression:\"user\"}})],1),_c('b-field',{attrs:{\"label\":\"Contraseña\"}},[_c('b-input',{attrs:{\"type\":\"password\",\"password-reveal\":\"\"},nativeOn:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.login()}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('b-button',{attrs:{\"disabled\":_vm.disabledLoginButton,\"label\":\"Iniciar Sesión\",\"icon-left\":\"sign-in-alt\",\"type\":\"is-primary\"},on:{\"click\":function($event){return _vm.login()}}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"login mt-5\">\r\n        <b-loading :is-full-page=\"true\" v-model=\"isLoading\"></b-loading>\r\n        <form action=\"#\">\r\n            <b-field label=\"Usuario\">\r\n                <b-input v-model=\"user\"></b-input>\r\n            </b-field>\r\n            <b-field label=\"Contraseña\">\r\n                <b-input @keypress.native.enter=\"login()\" v-model=\"password\" type=\"password\" password-reveal></b-input>\r\n            </b-field>\r\n            <b-button :disabled=\"disabledLoginButton\" @click=\"login()\" label=\"Iniciar Sesión\" icon-left=\"sign-in-alt\"\r\n                type=\"is-primary\">\r\n            </b-button>\r\n        </form>\r\n    </div>\r\n</template>\r\n  \r\n<script>\r\nimport { HANDLE_ERROR_RESPONSE } from '@/common/tools';\r\nimport { mapMutations } from 'vuex';\r\n\r\nexport default {\r\n    name: 'LoginView',\r\n    data() {\r\n        return {\r\n            user: \"\",\r\n            password: \"\",\r\n            isLoading: false\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapMutations([\"setToken\"]),\r\n        login() {\r\n            this.isLoading = true\r\n            this.axios.post(\"login\", {\r\n                email: this.user,\r\n                password: this.password\r\n            })\r\n                .then((response) => {\r\n                    this.setToken(response.headers.token)\r\n                    sessionStorage.setItem(\"token\", response.headers.token)\r\n                    this.$router.replace({ name: \"Home\" })\r\n                }).catch(HANDLE_ERROR_RESPONSE).finally(() => {\r\n                    this.isLoading = false\r\n                })\r\n        }\r\n    },\r\n    computed: {\r\n        disabledLoginButton() {\r\n            if (this.user == \"\") {\r\n                return true\r\n            }\r\n            if (this.password == \"\") {\r\n                return true\r\n            }\r\n            return false\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nform {\r\n    width: 30%;\r\n    margin: auto;\r\n}\r\n\r\n@media screen and (max-width:768px) {\r\n    form {\r\n        width: 90%;\r\n        margin: auto;\r\n    }\r\n}\r\n</style>\r\n  ","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=66bfbfa6&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=66bfbfa6&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66bfbfa6\",\n  null\n  \n)\n\nexport default component.exports","import { ToastProgrammatic as Toast } from \"buefy\";\r\n\r\nconst SUCCESS = ({\r\n  message = \"Operación realizada Correctamente\",\r\n  type = \"is-info\",\r\n  duration = 2000,\r\n  position = \"is-bottom\",\r\n} = {}) => {\r\n  Toast.open({\r\n    message,\r\n    type,\r\n    duration,\r\n    position,\r\n  });\r\n};\r\n\r\nconst ERROR = ({\r\n  message = \"Operación Fallida!\",\r\n  type = \"is-danger\",\r\n  duration = 2000,\r\n  position = \"is-bottom\",\r\n} = {}) => {\r\n  Toast.open({\r\n    message,\r\n    type,\r\n    duration,\r\n    position,\r\n  });\r\n};\r\n\r\nconst SERVER_ERROR = ({\r\n  message = \"Ocurrió un problema en el Servidor\",\r\n  type = \"is-danger\",\r\n  duration = 3000,\r\n  position = \"is-bottom\",\r\n  queue = true,\r\n} = {}) => {\r\n  Toast.open({\r\n    message,\r\n    type,\r\n    duration,\r\n    position,\r\n    queue,\r\n  });\r\n};\r\n\r\nconst INVALID_TOKEN = ({\r\n  message = \"El token de acceso no es válido, favor vuelva a iniciar sesión\",\r\n  type = \"is-danger\",\r\n  duration = 3000,\r\n  position = \"is-bottom\",\r\n} = {}) => {\r\n  Toast.open({\r\n    message,\r\n    type,\r\n    duration,\r\n    position,\r\n  });\r\n};\r\n\r\nexport { SUCCESS, INVALID_TOKEN, SERVER_ERROR, ERROR};\r\n","const messages = require(\"./Messages\");\r\n\r\nconst HANDLE_ERROR_RESPONSE = ({response}) => {\r\n  switch (response.status) {\r\n    case 401:\r\n      messages.NO_TOKEN();\r\n      break;\r\n    case 403:\r\n      messages.ERROR({message:response.data.message});\r\n      break;\r\n    case 404:\r\n      messages.ERROR({message:response.data.message});\r\n      break;\r\n    case 500:\r\n      response.data.forEach((element) => {\r\n        messages.SERVER_ERROR({ message: element.message });\r\n      });\r\n      break;\r\n  }\r\n};\r\n\r\nexport { HANDLE_ERROR_RESPONSE };\r\n"],"names":["render","_vm","this","_c","_self","staticClass","attrs","model","value","isLoading","callback","$$v","expression","user","nativeOn","$event","type","indexOf","_k","keyCode","key","login","password","disabledLoginButton","on","staticRenderFns","name","data","methods","email","then","sessionStorage","computed","component","SUCCESS","message","duration","position","Toast","ERROR","SERVER_ERROR","queue","INVALID_TOKEN","messages","require","HANDLE_ERROR_RESPONSE","response","status","NO_TOKEN","forEach","element"],"sourceRoot":""}
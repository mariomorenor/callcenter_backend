{"version":3,"file":"js/308.95bd8a3d.js","mappings":"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","sources":["webpack://callcenter_frontend/./src/views/Departments/Index.vue","webpack://callcenter_frontend/src/views/Departments/Index.vue","webpack://callcenter_frontend/./src/views/Departments/Index.vue?7bbf","webpack://callcenter_frontend/./src/views/Departments/Index.vue?f6cb","webpack://callcenter_frontend/./src/common/Confirms.js","webpack://callcenter_frontend/./src/common/Messages.js","webpack://callcenter_frontend/./src/common/tools.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{},[_c('b-loading',{attrs:{\"is-full-page\":false},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}}),_c('b-button',{staticClass:\"mb-4\",attrs:{\"label\":\"Nuevo\",\"icon-left\":\"plus\",\"type\":\"is-primary\",\"tag\":\"router-link\",\"to\":{name:'DepartmentsCreate'}}}),_c('b-table',{attrs:{\"striped\":\"\",\"checkable\":\"\",\"type\":\"\",\"height\":\"70vh\",\"sticky-header\":\"\",\"data\":_vm.departments}},[_c('b-table-column',{attrs:{\"field\":\"peer_id\",\"label\":\"Peer ID\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_vm._v(\" \"+_vm._s(props.row.peer_id)+\" \")]}}])}),_c('b-table-column',{attrs:{\"field\":\"name\",\"label\":\"Nombre\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_vm._v(_vm._s(props.row.name))]}}])}),_c('b-table-column',{attrs:{\"field\":\"actions\",\"label\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('b-button',{staticClass:\"mx-2 is-small\",attrs:{\"tag\":\"router-link\",\"to\":{name:'DepartmentsEdit', params:{id:props.row.id}},\"icon-left\":\"edit\",\"type\":\"is-info\"}}),_c('b-button',{staticClass:\"is-small\",attrs:{\"icon-left\":\"trash-alt\",\"type\":\"is-danger\"},on:{\"click\":function($event){return _vm.deleteDepartment(props.row.id)}}})]}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"\">\r\n        <b-loading :is-full-page=\"false\" v-model=\"loading\"></b-loading>\r\n        <b-button class=\"mb-4\" label=\"Nuevo\" icon-left=\"plus\" type=\"is-primary\" tag=\"router-link\"\r\n            :to=\"{name:'DepartmentsCreate'}\"></b-button>\r\n        <b-table striped checkable type=\"\" height=\"70vh\" sticky-header :data=\"departments\">\r\n            <b-table-column field=\"peer_id\" label=\"Peer ID\" v-slot=\"props\">\r\n                {{props.row.peer_id}}\r\n            </b-table-column>\r\n            <b-table-column field=\"name\" label=\"Nombre\" v-slot=\"props\">{{props.row.name}}</b-table-column>\r\n            <b-table-column field=\"actions\" label=\"\" v-slot=\"props\">\r\n                <b-button tag=\"router-link\" :to=\"{name:'DepartmentsEdit', params:{id:props.row.id}}\" icon-left=\"edit\"\r\n                    class=\"mx-2 is-small\" type=\"is-info\"></b-button>\r\n                <b-button @click=\"deleteDepartment(props.row.id)\" icon-left=\"trash-alt\" class=\"is-small\"\r\n                    type=\"is-danger\"></b-button>\r\n            </b-table-column>\r\n        </b-table>\r\n    </div>\r\n</template>\r\n  \r\n<script>\r\nimport { mapState } from 'vuex';\r\nimport * as messages from \"@/common/Messages\"\r\nimport * as confirm from \"@/common/Confirms\"\r\nimport { HANDLE_ERROR_RESPONSE } from '@/common/tools';\r\nexport default {\r\n    name: 'DepartmentsIndex',\r\n    data() {\r\n        return {\r\n            departments: [],\r\n            loading: false\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getDepartments();\r\n    },\r\n    methods: {\r\n        getDepartments() {\r\n            this.loading = true;\r\n            this.axios\r\n                .get(\"departments\", { headers: { token: this.token } })\r\n                .then(response => {\r\n                    this.departments = response.data\r\n                })\r\n                .catch(HANDLE_ERROR_RESPONSE)\r\n                .finally(() => {\r\n                    this.loading = false\r\n                })\r\n        },\r\n        deleteDepartment(id) {\r\n            confirm.DESTROY({\r\n                onConfirm: () => {\r\n                    this.loading = true\r\n                    this.axios.delete(`departments/${id}/destroy`, {\r\n                        headers: { token: this.token }\r\n                    }).then(() => {\r\n                        messages.SUCCESS();\r\n                        this.getDepartments();\r\n                    }).catch(HANDLE_ERROR_RESPONSE).finally(() => {\r\n                        this.loading = false;\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState([\"token\"])\r\n    }\r\n}\r\n</script>\r\n  ","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=7465d336&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { DialogProgrammatic as Dialog } from \"buefy\";\r\n\r\nconst DESTROY = ({\r\n  title = \"¿Seguro de Eliminar?\",\r\n  message = \"Esta acción no se puede deshacer!\",\r\n  type = \"is-danger\",\r\n  onConfirm,\r\n} = {}) => {\r\n  Dialog.confirm({\r\n    title,\r\n    message,\r\n    type,\r\n    onConfirm,\r\n  });\r\n};\r\n\r\nexport { DESTROY };\r\n","import { ToastProgrammatic as Toast } from \"buefy\";\r\n\r\nconst SUCCESS = ({\r\n  message = \"Operación realizada Correctamente\",\r\n  type = \"is-info\",\r\n  duration = 2000,\r\n  position = \"is-bottom\",\r\n} = {}) => {\r\n  Toast.open({\r\n    message,\r\n    type,\r\n    duration,\r\n    position,\r\n  });\r\n};\r\n\r\nconst ERROR = ({\r\n  message = \"Operación Fallida!\",\r\n  type = \"is-danger\",\r\n  duration = 2000,\r\n  position = \"is-bottom\",\r\n} = {}) => {\r\n  Toast.open({\r\n    message,\r\n    type,\r\n    duration,\r\n    position,\r\n  });\r\n};\r\n\r\nconst SERVER_ERROR = ({\r\n  message = \"Ocurrió un problema en el Servidor\",\r\n  type = \"is-danger\",\r\n  duration = 3000,\r\n  position = \"is-bottom\",\r\n  queue = true,\r\n} = {}) => {\r\n  Toast.open({\r\n    message,\r\n    type,\r\n    duration,\r\n    position,\r\n    queue,\r\n  });\r\n};\r\n\r\nconst INVALID_TOKEN = ({\r\n  message = \"El token de acceso no es válido, favor vuelva a iniciar sesión\",\r\n  type = \"is-danger\",\r\n  duration = 3000,\r\n  position = \"is-bottom\",\r\n} = {}) => {\r\n  Toast.open({\r\n    message,\r\n    type,\r\n    duration,\r\n    position,\r\n  });\r\n};\r\n\r\nexport { SUCCESS, INVALID_TOKEN, SERVER_ERROR, ERROR};\r\n","const messages = require(\"./Messages\");\r\n\r\nconst HANDLE_ERROR_RESPONSE = ({response}) => {\r\n  switch (response.status) {\r\n    case 401:\r\n      messages.NO_TOKEN();\r\n      break;\r\n    case 403:\r\n      messages.ERROR({message:response.data.message});\r\n      break;\r\n    case 404:\r\n      messages.ERROR({message:response.data.message});\r\n      break;\r\n    case 500:\r\n      response.data.forEach((element) => {\r\n        messages.SERVER_ERROR({ message: element.message });\r\n      });\r\n      break;\r\n  }\r\n};\r\n\r\nexport { HANDLE_ERROR_RESPONSE };\r\n"],"names":["render","_vm","this","_c","_self","attrs","model","value","loading","callback","$$v","expression","staticClass","name","departments","scopedSlots","_u","key","fn","props","_v","_s","row","peer_id","params","id","on","$event","deleteDepartment","staticRenderFns","data","mounted","methods","getDepartments","get","headers","token","then","catch","finally","confirm","onConfirm","messages","computed","component","DESTROY","title","message","type","Dialog","SUCCESS","duration","position","Toast","ERROR","SERVER_ERROR","queue","INVALID_TOKEN","require","HANDLE_ERROR_RESPONSE","response","status","NO_TOKEN","forEach","element"],"sourceRoot":""}
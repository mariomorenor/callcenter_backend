"use strict";(self["webpackChunkcallcenter_frontend"]=self["webpackChunkcallcenter_frontend"]||[]).push([[996],{996:function(t,e,n){n.r(e),n.d(e,{default:function(){return p}});var a=function(){var t=this,e=t._self._c;return e("div",{},[e("b-loading",{attrs:{"is-full-page":!1},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}}),e("b-table",{attrs:{striped:"",checkable:"",type:"",height:"70vh","sticky-header":"",data:t.stations}},[e("b-table-column",{attrs:{field:"ip_address",label:"Dirección IP"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.ip_address)+" ")]}}])}),e("b-table-column",{attrs:{field:"name",label:"Nombre"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),e("b-table-column",{attrs:{field:"actions",label:""},scopedSlots:t._u([{key:"default",fn:function(n){return[e("b-button",{staticClass:"mx-2 is-small",attrs:{tag:"router-link",to:{name:"StationsEdit",params:{id:n.row.id}},"icon-left":"edit",type:"is-info"}}),e("b-button",{staticClass:"is-small",attrs:{"icon-left":"trash-alt",type:"is-danger"},on:{click:function(e){return t.deleteStation(n.row.id)}}})]}}])})],1)],1)},s=[],i=n(3822),o=n(4652),r=n(5508),l=n(1920),d={name:"StationsIndex",data(){return{stations:[],loading:!1}},mounted(){this.getStations()},methods:{getStations(){this.loading=!0,this.axios.get("stations",{headers:{token:this.token}}).then((t=>{this.stations=t.data})).catch(l.J).finally((()=>{this.loading=!1}))},deleteStation(t){r.K({onConfirm:()=>{this.loading=!0,this.axios.delete(`stations/${t}/destroy`,{headers:{token:this.token}}).then((()=>{o.SUCCESS(),this.getstations()})).catch(l.J).finally((()=>{this.loading=!1}))}})}},computed:{...(0,i.rn)(["token"])}},u=d,c=n(1001),f=(0,c.Z)(u,a,s,!1,null,null,null),p=f.exports},5508:function(t,e,n){n.d(e,{K:function(){return s}});var a=n(571);const s=({title:t="¿Seguro de Eliminar?",message:e="Esta acción no se puede deshacer!",type:n="is-danger",onConfirm:s}={})=>{a.q.confirm({title:t,message:e,type:n,onConfirm:s})}},4652:function(t,e,n){n.r(e),n.d(e,{ERROR:function(){return i},INVALID_TOKEN:function(){return r},SERVER_ERROR:function(){return o},SUCCESS:function(){return s}});var a=n(1806);const s=({message:t="Operación realizada Correctamente",type:e="is-info",duration:n=2e3,position:s="is-bottom"}={})=>{a.V.open({message:t,type:e,duration:n,position:s})},i=({message:t="Operación Fallida!",type:e="is-danger",duration:n=2e3,position:s="is-bottom"}={})=>{a.V.open({message:t,type:e,duration:n,position:s})},o=({message:t="Ocurrió un problema en el Servidor",type:e="is-danger",duration:n=3e3,position:s="is-bottom",queue:i=!0}={})=>{a.V.open({message:t,type:e,duration:n,position:s,queue:i})},r=({message:t="El token de acceso no es válido, favor vuelva a iniciar sesión",type:e="is-danger",duration:n=3e3,position:s="is-bottom"}={})=>{a.V.open({message:t,type:e,duration:n,position:s})}},1920:function(t,e,n){n.d(e,{J:function(){return s}});const a=n(4652),s=({response:t})=>{switch(t.status){case 401:a.NO_TOKEN();break;case 403:a.ERROR({message:t.data.message});break;case 404:a.ERROR({message:t.data.message});break;case 500:t.data.forEach((t=>{a.SERVER_ERROR({message:t.message})}));break}}}}]);
//# sourceMappingURL=996.a28277eb.js.map